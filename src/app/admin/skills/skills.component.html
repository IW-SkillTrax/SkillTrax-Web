<div class="container-fluid" style="margin-top:30px">
  <div class="row">
    <div class="col-lg-1"></div>
    <div class="col-lg-3">
      <div class="card" style="min-height: 250px;">
        <h4 style="text-align:center;">Search Skills</h4>
        <ng-template #rt let-r="result" let-t="term">
            <div (click) = addToSearched(r)>
                {{ r.skillName}} - {{r.skillTypeName}}
            </div>
          </ng-template>
          
          <label for="typeahead-template">Search for a skill:</label>
          <input placeholder ="Skill Name" id="typeahead-template" type="text" class="form-control" [(ngModel)]="skillSearchBox" [ngbTypeahead]="skillSearch" [resultTemplate]="rt"
            [inputFormatter]="formatter"/>
            <div>
                <ul class="item-list">
                    <li *ngFor="let skill of searchedSkills" style="margin:0px; padding:0px;">
                        <div class="skill" (click) = toggleSkillsOpen(skill.skillName) [ngClass]="{
                          'active-skill': skillsOpen[skill.skillName]}">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-sm-8"><strong>{{skill.skillName}}</strong></div>
                              <div class="col-sm-1" style="margin-left: auto;">
                                  <h4><i class="far fa-edit"></i></h4>
                              </div>
                              <div class="col-sm-1" style="margin-left: auto;">
                                  <h4><i class="fas fa-trash-alt"></i></h4>
                              </div>
                              <div class="col-auto" style="margin-left: auto;">
                                <h5> <i [ngClass]="{
                                  'fas fa-caret-up': skillsOpen[skill.skillName],
                                  'fas fa-caret-down': !skillsOpen[skill.skillName]}"></i></h5>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div [hidden] = "!skillsOpen[skill.skillName]" class="panel">
                          <p>Id: {{skill.skillId}}</p> 
                          <p>Type: {{skill.skillTypeName}}</p>
                          <p>Solution: {{skill.solutionName}}</p>
                        </div>
                    </li>
                  </ul>   
            </div>
      </div>
    </div>
    <div class="col-lg-1"></div>
    <div class="col-lg-6">
      <div class="card" style="min-height: 700px;">
        <h4 style="text-align:center;">Browse Skills</h4>
          <ul class="item-list" style ="margin-right:30px;">
              <li *ngFor = "let skillType of skillTypes">
                  <div class="accordion" (click) = toggleSkillTypesOpen(skillType) [ngClass]="{
                    'active': skillTypesOpen[skillType]}">
                    <div class="container-fluid">
                      <div class="row">
                        <div class="col-auto">
                            <h5>{{skillType}}</h5>
                        </div>
                        <div class="col-auto" style="margin-left: auto;">
                          <h5>
                          <i [ngClass]="{
                            'fas fa-caret-up': skillTypesOpen[skillType],
                            'fas fa-caret-down': !skillTypesOpen[skillType]}"></i>
                           </h5>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div [hidden] = "!skillTypesOpen[skillType]" >
                      <ul class="item-list">
                        <li *ngFor="let skill of skills" style="margin:0px; padding:0px;">
                          <div *ngIf="skill.skillTypeName == skillType">
                            <div class="skill" (click) = toggleSkillsOpen(skill.skillName) [ngClass]="{
                              'active-skill': skillsOpen[skill.skillName]}">
                              <div class="container-fluid">
                                <div class="row">
                                  <div class="col-sm-8"><strong>{{skill.skillName}}</strong></div>
                                  <div class="col-sm-1" style="margin-left: auto;">
                                      <h4><i class="far fa-edit"></i></h4>
                                  </div>
                                  <div class="col-sm-1" style="margin-left: auto;">
                                      <h4><i class="fas fa-trash-alt"></i></h4>
                                  </div>
                                  <div class="col-auto" style="margin-left: auto;">
                                    <h5> <i [ngClass]="{
                                      'fas fa-caret-up': skillsOpen[skill.skillName],
                                      'fas fa-caret-down': !skillsOpen[skill.skillName]}"></i></h5>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div [hidden] = "!skillsOpen[skill.skillName]" class="panel">
                              <p>Id: {{skill.skillId}}</p> 
                              <p>Type: {{skill.skillTypeName}}</p>
                              <p>Solution: {{skill.solutionName}}</p>
                            </div>
                          </div>
                        </li>
                      </ul>     
                    </div>
                  
              </li>
              </ul>
      </div>
    </div>
    <div class="col-lg-1"></div>
  </div>
</div>









